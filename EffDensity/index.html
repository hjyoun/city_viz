<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>CO2 Effective Density </title>
    <script type="text/javascript" src="../d3/d3.js"></script>
    <script type="text/javascript" src="../d3/d3.geo.js"></script>
    <script type="text/javascript" src="../d3/d3.geom.js"></script>
    <script src="http://cdn.jquerytools.org/1.2.6/jquery.tools.min.js"></script>
    <link type="text/css" rel="stylesheet" href="cartogram.css"/>
    <link type="text/css" rel="stylesheet" href="../d3/lib/colorbrewer/colorbrewer.css"/>
  </head>
	<style> @import url("../style.css?1.10.0"); </style>
	</head>
<body>
	<div class="body">
	<div class="content">
        <div class="topbar">
                <a href="./vulcan_county_total.html"> State Data </a>
                <a href="./vulcan_msa_total.html"> MSA Data </a>
                <a href="./data_akw.html"> About the data</a>
        </div>

        <div class="sidebar"> 
          <br><br><br><br>
          <ul> - Effective Density  </ul>
          <ul> - At state level</ul>
          <p><br>
          <b>DATA List</b>
          <li> <a href="./effdensity_state.html"> Effective Density </a></li>
          <li> <a href="./nominaldensity_state.html"> Nominal Density </a></li>
        </div>

		<h1 align="center"> Effective Density </h1>
        <div id="chart"> </div>
        <div id="info"> </div>

    <script type="text/javascript">
		//var dataeffd; // loaded asynchronously
		var datanominal; // loaded asynchronously
        var dataname; // loaded asynchronously
        //d3.json("./state_effD.json", function(json) { dataeffd = json; });
        var data = [ , .187, .198, , .133, .175, .151, , .1, .125, .171, , .172, .133, , .108, .142, .167, .201, .175, .159, .169, .177, .141, .163, .117, .182, .153, .195, .189, .134, .163, .133, .151, .145, .13, .139, .169, .164, .175, .135, .152, .169, , .132, .167, .139, .184, .159, .14, .146, .157, , .139, .183, .16, .143 ];

        var svg = d3.select("#chart").append("svg")
                    .attr("width", 960)
                    .attr("height", 500);

        d3.json("../usa_geo/us-states.json", function(json) {
          var path = d3.geo.path();
          // A thick black stroke for the exterior.
          svg.append("g")
              .attr("class", "black")
              .selectAll("path")
              .data(json.features)
              .enter().append("path")
              .attr("d", path);

          // A white overlay to hide interior black strokes.
          svg.append("g")
          .attr("class", "white")
          .selectAll("path")
          .data(json.features)
          .enter().append("path")
          .attr("d", path);

          // The polygons, scaled!
          svg.append("g")
          .attr("class", "grey")
          .selectAll("path")
          .data(json.features)
          .enter().append("path")
          .attr("d", path)
          .attr("transform", function(d) {
              var centroid = path.centroid(d),
              x = centroid[0],
              y = centroid[1];
              return "translate(" + x + "," + y + ")"
              + "scale(" + Math.sqrt(data[+d.id] * 5 || 0) + ")"
              + "translate(" + -x + "," + -y + ")";
              })
          .style("stroke-width", function(d) {
              return 1 / Math.sqrt(data[+d.id] * 5 || 1);
          });
        });



     // MAKE SURE YOUR SELECTOR MATCHES SOMETHING IN YOUR HTML!!!
    //$(document).ready(function() {
      //$('path').qtip({
      //content: { text: 'Support for SVG' }, 
      //position: { my: 'top left', at: 'bottom right' }
      //});
    //});

    //function mouseover(d, i) {
        ////d3.select(this).style("fill", "blue");
        //infotext.text(dataname[d.id]+": "+dataco2[d.id]+" tonnes");
    //}

    //function quantize(d) {
    //return "q" + Math.min(8, ~~(Math.sqrt(dataco2[d.id]) * 12 / 7)) + "-9";
    //}
		
  </script>
</body>
</html>
